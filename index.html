<html ng-app="app">

<head>
  <title>八仙爆炸事件傷者查詢</title>
  <meta charset="utf-8"></meta>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.3.0/css/font-awesome.min.css">
  <!-- Angular Material CSS now available via Google CDN; version 0.10 used here -->
  <link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/angular_material/0.10.0/angular-material.min.css">
  <!-- md-data-table -->
  <link rel="stylesheet" href="md-data-table.min.css">

  <style>
    [ng-click],
    [data-ng-click],
    [x-ng-click] {
      cursor: pointer;
    }

    .right {
      text-align: right;
    }
  </style>
</head>

<body ng-controller="HomeController as vm">
  <md-toolbar layout="row">
    <h1>八仙爆炸事件傷者查詢
      <small>最後更新時間：{{vm.lastmodify}}</small>
    </h1>
  </md-toolbar>

  <md-content id="content">
    <md-input-container md-no-float="">
      <input ng-model="vm.searchText" placeholder="搜尋條件, 例如： 長庚 或是 林文君" ng-change="vm.search()">
    </md-input-container>

    <div layout="row">
      <div flex="10">
        人數：{{vm.result.length}}
      </div>
      <div flex="10">
        重傷：{{(vm.result | filter:{'救護檢傷': '重傷'}).length}}
      </div>
      <div flex="10">
        中傷：{{(vm.result | filter:{'救護檢傷': '中傷'}).length}}
      </div>
      <div flex="10">
        輕傷：{{(vm.result | filter:{'救護檢傷': '輕傷'}).length}}
      </div>
    </div>

    <md-data-table-container>
      <table md-data-table>
        <tr>
          <th>
            編號
          </th>
          <th>
            姓名
          </th>
          <th>
            性別
          </th>
          <th>
            醫療檢傷
          </th>
          <th>
            救護檢傷
          </th>
          <th>
            即時動向
          </th>
          <th>
            縣市別
          </th>
          <th>
            收治單位
          </th>
          <th>
            檢傷編號
          </th>
          <th>
            國籍
          </th>
          <th>
            年齡
          </th>
          <th>
            轉診要求
          </th>
          <th>
            刪除註記
          </th>
        </tr>
        <tr ng-repeat="user in vm.result">
          <td>
            {{user['編號']}}
          </td>
          <td>
            {{user['姓名']}}
          </td>
          <td>
            {{user['性別']}}
          </td>
          <td>
            {{user['醫療檢傷']}}
          </td>
          <td>
            {{user['救護檢傷']}}
          </td>
          <td>
            {{user['即時動向']}}
          </td>
          <td>
            {{user['縣市別']}}
          </td>
          <td>
            <md-button md-no-ink="" class="md-primary" ng-click="vm.showHospital($event, user['收治單位'])">
              <i class="fa fa-hospital-o"></i> {{user['收治單位']}}
            </md-button>
          </td>
          <td>
            {{user['檢傷編號']}}
          </td>
          <td>
            {{user['國籍']}}
          </td>
          <td>
            {{user['年齡']}}
          </td>
          <td>
            {{user['轉診要求']}}
          </td>
          <td>
            {{user['刪除註記']}}
          </td>
        </tr>
      </table>
    </md-data-table-container>
  </md-content>

  <!-- Angular Material Dependencies -->
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.15/angular.min.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.15/angular-animate.min.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.15/angular-aria.min.js"></script>


  <!-- Angular Material Javascript now available via Google CDN; version 0.10 used here -->
  <script src="https://ajax.googleapis.com/ajax/libs/angular_material/0.10.0/angular-material.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/1.2.2/fuse.min.js"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/lodash.js/3.9.3/lodash.min.js"></script>

  <script src="md-data-table.min.js"></script>
  <script src="data.js"></script>
  <script src="app.js"></script>

  <script>
    (function(i, s, o, g, r, a, m) {
      i['GoogleAnalyticsObject'] = r;
      i[r] = i[r] || function() {
        (i[r].q = i[r].q || []).push(arguments)
      }, i[r].l = 1 * new Date();
      a = s.createElement(o),
        m = s.getElementsByTagName(o)[0];
      a.async = 1;
      a.src = g;
      m.parentNode.insertBefore(a, m)
    })(window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga');

    ga('create', 'UA-31366910-1', 'auto');
    ga('send', 'pageview');
  </script>
</body>

</html>
